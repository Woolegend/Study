# 24.11.19 TIL

## Global μ¤νƒ€μΌ μ μ©

κΈ€λ΅λ² μ¤νƒ€μΌμ„ μ μ©ν•  λ• `_app.js` νμΌμ— μ μ©ν•λ©΄ λλ‹¤.

## νμΌμ‹μ¤ν… κΈ°λ° λΌμ°ν…

### κ°μ”

λΌμ°ν…μ€ μ–΄λ–¤ μ£Όμ†μ— μ–΄λ–¤ νμ΄μ§€λ¥Ό λ³΄μ—¬μ¤„ μ§€ μ •ν•λ” κ²ƒμ΄λ‹¤.

νμΌμ‹μ¤ν… κΈ°λ° λΌμ°ν…μ€ νμΌμ κ²½λ΅κ°€ μ£Όμ†μ— λ§¤μΉ­λλ” λΌμ°ν… λ°©μ‹μ„ λ»ν•λ‹¤.

Next.JSμ—μ„λ” νμΌμ‹μ¤ν… κΈ°λ° λΌμ°ν…μ„ μ κ³µν•λ‹¤.

μ¦‰, ν΄λ”λ¥Ό λ§λ“¤κ³  JSνμΌμ„ λ§λ“¤λ©΄ λμ΄λ‹¤.

### νμ΄μ§€ λ‚λ„κΈ°

Next Appμ λ””λ ‰ν„°λ¦¬ κµ¬μ΅°λ” λ€μ¶© μ•„λμ™€ κ°™λ‹¤.

```
π“‚root
β”β”€ π“‚public
β”β”€ π“‚pages
β”‚   β””β”€ π“„index.js
β”β”€ π“„next.config.js
β”β”€ β™οΈjsconfig.json
β”β”€ β™οΈpackage.json
β”β”€ β™οΈtailwind.config.js
β””β”€ π“–README.md
```

νμ΄μ§€λ¥Ό λ§λ“¤κΈ° μ„ν•΄μ„λ” λ°λ“μ‹ `./pages` μ— νμΌμ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

`./pages/index.js`λ” ν™νμ΄μ§€μ— ν•΄λ‹Ήν•λ‹¤.

λ§μ•½ `./pages`μ— `search.js`λΌλ” νμΌμ„ λ§λ“¤μ–΄λ³΄μ

```
π“‚pages
β”β”€ π“„index.js
β””β”€ π“„search.js
```

μ΄μ  κ²€μƒ‰μ°½μ— `localhost:3000/search`μ— μ ‘μ†ν•΄λ³΄λ©΄ `search.js`λ΅ λ§λ“  νμ΄μ§€λ¥Ό ν™•μΈν•  μ μλ‹¤.

μ¤‘κ°„μ— κ²½λ΅λ¥Ό μ¶”κ°€ν•κ³  μ‹¶λ‹¤λ©΄ ν΄λ”λ¥Ό ν™μ©ν•΄λ³΄μ

`search.js`νμΌμ„ `/util/search`κ²½λ΅μ— λ³΄μ—¬μ£Όκ³  μ‹¶λ‹¤λ©΄ μ•„λμ™€ κ°™μ΄ λ””λ ‰ν„°λ¦¬ κµ¬μ΅°λ¥Ό λ§λ“¤λ©΄ λλ‹¤.

```
π“‚pages
β”β”€ π“„index.js
β””β”€ π“‚util
    β””β”€ π“„search.js
```

### λ™μ  λΌμ°ν…

λ™μ  λΌμ°ν…μ€ URL νλΌλ―Έν„°μ— λ”°λΌ λ™μ μΌλ΅ νμ΄μ§€λ¥Ό λΌμ°ν…ν•λ” κ²ƒμ„ λ»ν•λ‹¤.

Next JSλ” `[νλΌλ―Έν„°]`λ¥Ό λ””λ ‰ν† λ¦¬ μ‘λ…μ— ν™μ©ν•΄ λ™μ  λΌμ°ν…μ„ μν–‰ν•λ‹¤.

λ§μ•½ μƒν’ `id`μ— λ”°λΌ λ™μ  λΌμ°ν…μ„ μν–‰ν•λ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ κµ¬ν„ν•  μ μλ‹¤.

```
π“‚pages
β”β”€ π“„index.js
β””β”€ π“‚products
    β””β”€ π“„[id].js
```

`/product/:id`λ΅ μ ‘μ†ν•΄λ³΄λ©΄ νμ΄μ§€κ°€ μ λ λ”λ§ λλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

`[νλΌλ―Έν„°]`λ” νμΌλΏλ§ μ•„λ‹λΌ ν΄λ”μ—λ„ μ‚¬μ© κ°€λ¥ν•λ‹¤.

```
π“‚pages
β”β”€ π“„index.js
β””β”€ π“‚products
    β””β”€ π“‚[id]
      β””β”€ π“„index.js
```

## Link Component

Next JS ν™κ²½μ—μ„λ” `a`νƒκ·Έλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ„ κ¶μ¥ν•μ§€ μ•λ”λ‹¤.

μ•„λ λ‘ μ½”λ“λ¥Ό λλ¦° λ„¤νΈμ›ν¬ ν™κ²½μ—μ„ λ™μ‘ν•΄λ³΄λ©΄ μ• μ μλ‹¤.

```js
// a νƒκ·Έ μ‚¬μ©
function Page() {
  return (
    <ul>
      <li>
        <a href="/products/1">μ²« λ²μ§Έ μƒν’</a>
      </li>
      ...
    </ul>
  );
}

// λ§ν¬λ¥Ό ν΄λ¦­ν• μκ°„ λΉ μ°½μ΄ λ³΄μΈ ν›„ λ‹¤μ νμ΄μ§€κ°€ λ λ”λ§ν•λ‹¤.
```

```js
// Link μ»΄ν¬λ„νΈ μ‚¬μ©
function Page() {
  return (
    <ul>
      <li>
        <Link href="/products/1">μ²« λ²μ§Έ μƒν’</Link>
      </li>
      ...
    </ul>
  );
}

// λ§ν¬λ¥Ό ν΄λ¦­ν• ν›„ λΉ μ°½μ΄ λ³΄μ΄μ§€ μ•κ³  λ‹¤μ νμ΄μ§€κ°€ λ λ”λ§ λλ‹¤.
```

νμ΄μ§€λ¥Ό μ²μλ¶€ν„° λ λ”λ§ ν•λ” `a`νƒκ·Έμ™€ λ‹¬λ¦¬ `Link`μ»΄ν¬λ„νΈλ” ν•„μ”ν• μ •λ³΄λ§ κ°€μ Έμ¨ ν›„ νμ΄μ§€λ¥Ό λ λ”λ§ν•λ‹¤. μ΄λ΅μΈν•΄ λ” λΉ λ¥΄κ³  κ³µλ°±μ„ λ³΄μ΄μ§€ μ•λ”λ‹¤.

μ΄λ” ν”„λ¦¬λ λ”λ§κ³Ό μ—°κ΄€μ΄ μλ”λ° μ΄λ” μ΄ν›„μ— λ‹¤μ‹ λ‹¤λ£¨κ² λ‹¤.

μ™Έλ¶€ λ§ν¬μ κ²½μ°λ” `Link`μ»΄ν¬λ„νΈλ” `a`νƒκ·Έμ™€ λ™μΌν•κ² λ™μ‘ν•κΈ° λ•λ¬Έμ— λ”°λ΅ κµ¬λ¶„ν•μ§€ μ•κ³  Next JS ν™κ²½μ—μ„λ” `Link`μ»΄ν¬λ„νΈλ”λ§ μ‚¬μ©ν•λ©΄ λλ‹¤.

## useRouterλ΅ μΏΌλ¦¬ μ‚¬μ©ν•κΈ°

`useRouter`λ΅ URLμ νλΌλ―Έν„°μ™€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ–»μ„ μ μλ‹¤.

`/products/:id?tag=food` μ—μ„ `id` νλΌλ―Έν„°μ™€ `tag` μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ–»μ„λ ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ `useRouter`λ¥Ό μ‚¬μ©ν•μ

```js
import { useRouter } from "next/router";

export default function Product() {
  const router = useRouter();
  const { id, tag } = router.query;
}
```

Routerμ—μ„ λ°ν™λ κ°μ²΄μ—μ„λ” νλΌλ―Έν„°μ™€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ”°λ΅ κµ¬λ¶„ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ™μΌν• λ°©μ‹μΌλ΅ μ–»μ„ μ μλ‹¤.
